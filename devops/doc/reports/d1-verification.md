# Sprint D1: Build & Publish - –û—Ç—á–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

**–î–∞—Ç–∞:** 2025-10-18  
**–°–ø—Ä–∏–Ω—Ç:** D1 - Build & Publish  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

---

## 1. –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)

### ‚úÖ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–í—Å–µ —Ç—Ä–µ–±—É–µ–º—ã–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:

```
.github/
‚îú‚îÄ‚îÄ workflows/
‚îÇ   ‚îî‚îÄ‚îÄ build.yml                          ‚úì 82 —Å—Ç—Ä–æ–∫–∏
‚îî‚îÄ‚îÄ REGISTRY.md                            ‚úì 55 —Å—Ç—Ä–æ–∫

docker-compose.registry.yml               ‚úì 45 —Å—Ç—Ä–æ–∫
docker-compose.yml (–æ–±–Ω–æ–≤–ª–µ–Ω)             ‚úì 7 —Å—Ç—Ä–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

docs/
‚îú‚îÄ‚îÄ github-actions-guide.md               ‚úì 284 —Å—Ç—Ä–æ–∫–∏
‚îî‚îÄ‚îÄ REGISTRY.md                           ‚úì 270 —Å—Ç—Ä–æ–∫

scripts/
‚îî‚îÄ‚îÄ registry-pull.sh                      ‚úì 63 —Å—Ç—Ä–æ–∫–∏

Makefile (–æ–±–Ω–æ–≤–ª–µ–Ω)                       ‚úì 4 –Ω–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥—ã
README.md (–æ–±–Ω–æ–≤–ª–µ–Ω)                      ‚úì badge + registry section
DOCKER.md (–æ–±–Ω–æ–≤–ª–µ–Ω)                      ‚úì registry info
```

**–ò—Ç–æ–≥–æ:** 799 —Å—Ç—Ä–æ–∫ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞ + –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ 5 —Ñ–∞–π–ª–æ–≤

### ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|-----------|--------|--------|
| docker-compose.yml | ‚úì OK | –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤–∞–ª–∏–¥–µ–Ω |
| docker-compose.registry.yml | ‚úì OK | –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤–∞–ª–∏–¥–µ–Ω |
| scripts/registry-pull.sh | ‚úì OK | Shell —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤–∞–ª–∏–¥–µ–Ω |
| Dockerfile.bot | ‚úì OK | –ù–∞–π–¥–µ–Ω |
| Dockerfile.api | ‚úì OK | –ù–∞–π–¥–µ–Ω |
| Dockerfile.frontend | ‚úì OK | –ù–∞–π–¥–µ–Ω |

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –°—Ç–∞—Ç—É—Å | –ö–∞—á–µ—Å—Ç–≤–æ |
|------|--------|----------|
| docs/github-actions-guide.md | ‚úì | 284 —Å—Ç—Ä–æ–∫, –ø–æ–ª–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ GHA |
| docs/REGISTRY.md | ‚úì | 270 —Å—Ç—Ä–æ–∫, –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è |
| .github/REGISTRY.md | ‚úì | 55 —Å—Ç—Ä–æ–∫, –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ |
| README.md | ‚úì | Build badge + —Å–µ–∫—Ü–∏—è registry |
| DOCKER.md | ‚úì | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ workflow |

### ‚úÖ GitHub Actions Workflow

**–§–∞–π–ª:** `.github/workflows/build.yml` (82 —Å—Ç—Ä–æ–∫–∏)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- ‚úì Trigger: push (main, develop), pull_request (main), tags (v*)
- ‚úì Matrix strategy: bot, api, frontend (3 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö job)
- ‚úì Actions: docker/setup-buildx, docker/login, docker/metadata, docker/build-push
- ‚úì Registry: ghcr.io
- ‚úì –¢–µ–≥–∏: latest (main), dev (develop), –≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ–≥–∏, SHA
- ‚úì –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: type=gha
- ‚úì –ü—É–±–ª–∏–∫–∞—Ü–∏—è: push –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ç–æ–∫ –∫—Ä–æ–º–µ PR
- ‚úì Concurrency: cancel-in-progress –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ permissions (contents: read, packages: write)
- ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ github.token
- ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ docker/metadata-action
- ‚úì –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

### ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Docker Compose

**–§–∞–π–ª:** `docker-compose.registry.yml`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úì –ò–¥–µ–Ω—Ç–∏—á–µ–Ω docker-compose.yml –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- ‚úì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `image:` –≤–º–µ—Å—Ç–æ `build:`
- ‚úì GITHUB_USERNAME –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úì –í—Å–µ environment –∏ volumes —Å–æ–≤–ø–∞–¥–∞—é—Ç
- ‚úì Network –∏ restart policies —Å–æ–≤–ø–∞–¥–∞—é—Ç

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:** ‚úì –í–∞–ª–∏–¥–µ–Ω, docker-compose config –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

### ‚úÖ –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–§–∞–π–ª:** `scripts/registry-pull.sh` (63 —Å—Ç—Ä–æ–∫–∏)

**–ö–æ–º–∞–Ω–¥—ã:**
- ‚úì pull - –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–æ–≤ –∏–∑ registry
- ‚úì up - –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ registry
- ‚úì down - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úì logs - –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úì –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ GitHub username
- ‚úì –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ tag –∏ service
- ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (set -e)

### ‚úÖ Makefile –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|------------|---------|
| registry-pull | ‚úì | –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–æ–≤ –∏–∑ GHCR |
| registry-up | ‚úì | –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ —Å registry –æ–±—Ä–∞–∑–∞–º–∏ |
| registry-down | ‚úì | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ registry —Å–µ—Ä–≤–∏—Å–æ–≤ |
| registry-logs | ‚úì | –í—ã–≤–æ–¥ –ª–æ–≥–æ–≤ registry —Å–µ—Ä–≤–∏—Å–æ–≤ |

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.PHONY` –∏ –≤ help —Ä–∞–∑–¥–µ–ª–µ.

### ‚úÖ README –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- ‚úì Build status badge: `[![Build & Publish Docker Images](...)](https://...)`
- ‚úì –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –∏–∑ GitHub Container Registry"
- ‚úì –ö–æ–º–∞–Ω–¥—ã make registry-*
- ‚úì –°—Å—ã–ª–∫–∞ –Ω–∞ docs/REGISTRY.md
- ‚úì –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ D2

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ deploy:**
- ‚úì docker-compose.registry.yml –≥–æ—Ç–æ–≤
- ‚úì –û–±—Ä–∞–∑—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Å–∫–∞—á–∞–Ω—ã –∏–∑ GHCR
- ‚úì –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è REGISTRY.md —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è production
- ‚úì –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è SSH deploy
- ‚úì Env –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è GITHUB_USERNAME –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏

---

## 2. –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ç—Ä–µ–±—É—é—â–∏–µ GitHub (–û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

### ‚è≥ GitHub Actions workflow –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

**–î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –∏ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Ñ–∞–π–ª—ã
git checkout -b workflow/gh-actions-build
git add .github/ docs/github-actions-guide.md docs/REGISTRY.md \
        docker-compose.registry.yml scripts/registry-pull.sh
git add Makefile README.md DOCKER.md docker-compose.yml
git commit -m "D1: Add GitHub Actions CI/CD workflow and registry support

- Add .github/workflows/build.yml with matrix strategy
- Support for 3 services: bot, api, frontend
- Publish to GHCR with caching
- Add docker-compose.registry.yml for deployment
- Add registry-pull.sh management script
- Update documentation
- Add make registry-* commands"

# 2. Push –≤–µ—Ç–∫—É
git push -u origin workflow/gh-actions-build

# 3. –°–æ–∑–¥–∞—Ç—å PR –Ω–∞ main —á–µ—Ä–µ–∑ GitHub UI
# GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç workflow –Ω–∞ PR

# 4. –î–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow (5-10 –º–∏–Ω—É—Ç)
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ job'—ã "build-and-push" –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ

# 5. –°–ª–∏—Ç—å PR –≤ main
# –ü–æ—Å–ª–µ —Å–ª–∏—è–Ω–∏—è workflow –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –µ—â–µ —Ä–∞–∑ –Ω–∞ main
# –û–±—Ä–∞–∑—ã –±—É–¥—É—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã —Å —Ç–µ–≥–æ–º "latest"
```

### ‚è≥ –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –æ–±—Ä–∞–∑–∞–º

**–î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ GitHub ‚Üí Packages (https://github.com/YOUR_USERNAME/packages)
# 2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞–∑–∞ (aidialogs-bot, aidialogs-api, aidialogs-frontend):
#    - –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ package
#    - Package settings ‚Üí Manage repository access
#    - Change visibility to "Public"

# –ò–ª–∏ —á–µ—Ä–µ–∑ GitHub CLI:
gh api repos/YOUR_USERNAME/aidialogs/packages -X PATCH -f visibility=public
```

### ‚è≥ –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ pull –æ–±—Ä–∞–∑–æ–≤

**–î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**

```bash
# –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –æ–±—Ä–∞–∑—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –∏ —Å–¥–µ–ª–∞–Ω—ã –ø—É–±–ª–∏—á–Ω—ã–º–∏:

# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑—ã
docker pull ghcr.io/YOUR_USERNAME/aidialogs-bot:latest
docker pull ghcr.io/YOUR_USERNAME/aidialogs-api:latest
docker pull ghcr.io/YOUR_USERNAME/aidialogs-frontend:latest

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ docker-compose.registry.yml
export GITHUB_USERNAME=YOUR_USERNAME
docker-compose -f docker-compose.registry.yml up -d

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å
docker-compose -f docker-compose.registry.yml ps

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ
curl http://localhost:8000/health

# 5. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose -f docker-compose.registry.yml down
```

### ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ make –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤:

# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑—ã
make registry-pull GITHUB_USER=YOUR_USERNAME

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å
make registry-up GITHUB_USER=YOUR_USERNAME

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
make registry-logs

# 4. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
make registry-down
```

---

## 3. –ß–µ–∫-–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Sprint D1

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ó–ê–í–ï–†–®–ï–ù–û ‚úÖ)
- [x] GitHub Actions workflow —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] Matrix strategy –¥–ª—è 3 —Å–µ—Ä–≤–∏—Å–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [x] docker-compose.registry.yml —Å–æ–∑–¥–∞–Ω
- [x] registry-pull.sh —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω
- [x] Makefile –∫–æ–º–∞–Ω–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞ (284 + 270 —Å—Ç—Ä–æ–∫)
- [x] README –æ–±–Ω–æ–≤–ª–µ–Ω —Å badge
- [x] DOCKER.md –æ–±–Ω–æ–≤–ª–µ–Ω

### GitHub Actions –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–û–ñ–ò–î–ê–ï–¢)
- [ ] Workflow –∑–∞–ø—É—â–µ–Ω –∏ –ø—Ä–æ—à–µ–ª –Ω–∞ PR
- [ ] –û–±—Ä–∞–∑—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω—ã
- [ ] –û–±—Ä–∞–∑—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –≤ ghcr.io
- [ ] –û–±—Ä–∞–∑—ã —Å–¥–µ–ª–∞–Ω—ã –ø—É–±–ª–∏—á–Ω—ã–º–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–û–ñ–ò–î–ê–ï–¢)
- [ ] –õ–æ–∫–∞–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –æ–±—Ä–∞–∑—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] docker-compose.registry.yml —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
- [ ] –°–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –ø–æ—Ä—Ç–∞–º 3000 –∏ 8000
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω health endpoint

### –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–û–ñ–ò–î–ê–ï–¢)
- [ ] PR —Å–ª–∏—Ç –≤ main
- [ ] Workflow –∑–∞–ø—É—â–µ–Ω –Ω–∞ main –∏ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Sprint D2 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞

---

## 4. –ú–µ—Ç—Ä–∏–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ | 5 |
| –ò–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ | 5 |
| –°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | 579 |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –∏ –∫–æ–Ω—Ñ–∏–≥–∞ | 220 |
| –ù–æ–≤—ã—Ö make –∫–æ–º–∞–Ω–¥ | 4 |
| Services –≤ matrix | 3 (bot, api, frontend) |
| –£—Ä–æ–≤–µ–Ω—å –ø–æ–∫—Ä—ã—Ç–∏—è –ø–ª–∞–Ω–∞ | 100% (–ª–æ–∫–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å) |

---

## 5. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Sprint D2

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–ê–Ø –ì–û–¢–û–í–ù–û–°–¢–¨

**–î–ª—è D2 (—Ä—É—á–Ω–æ–π deploy) –≥–æ—Ç–æ–≤–æ:**
- ‚úì docker-compose.registry.yml –¥–ª—è production
- ‚úì –û–±—Ä–∞–∑—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ GHCR
- ‚úì –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è SSH deploy
- ‚úì –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è REGISTRY.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ‚úì Env –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏
- ‚úì –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

**–î–ª—è D3 (–∞–≤—Ç–æ deploy) –æ—Å–Ω–æ–≤–∞:**
- ‚úì CI/CD pipeline –≥–æ—Ç–æ–≤
- ‚úì Workflow –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è
- ‚úì –û–±—Ä–∞–∑—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
- ‚úì –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å deploy step –≤ workflow

---

## 6. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–ø–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —ç—Ç–æ–≥–æ –æ—Ç—á–µ—Ç–∞):

1. **–°–æ–∑–¥–∞—Ç—å PR –Ω–∞ GitHub:**
   ```bash
   git push -u origin workflow/gh-actions-build
   # –°–æ–∑–¥–∞—Ç—å PR —á–µ—Ä–µ–∑ GitHub UI
   ```

2. **–î–æ–∂–¥–∞—Ç—å—Å—è workflow –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ Actions –≤–∫–ª–∞–¥–∫—É
   - –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è workflow

3. **–°–¥–µ–ª–∞—Ç—å –æ–±—Ä–∞–∑—ã –ø—É–±–ª–∏—á–Ω—ã–º–∏:**
   - –ü–µ—Ä–µ–π—Ç–∏ –≤ GitHub Packages
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞–∑–∞: visibility = Public

4. **–õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   ```bash
   make registry-pull GITHUB_USER=<your-username>
   make registry-up GITHUB_USER=<your-username>
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   make registry-down
   ```

5. **–°–ª–∏—Ç—å PR –≤ main**

### –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã D1 –≥–æ—Ç–æ–≤—ã
- –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å Sprint D2 (—Ä—É—á–Ω–æ–π deploy)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è

---

## 7. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚ú® Highlight'—ã

1. **Matrix strategy** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ 3 —Å–µ—Ä–≤–∏—Å–æ–≤ –≤–º–µ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π
2. **GitHub Actions cache** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Docker layers –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ (type=gha)
3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤ (latest, SHA, –≤–µ—Ä—Å–∏–∏)
4. **–ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø** - –æ–±—Ä–∞–∑—ã –º–æ–∂–Ω–æ —Å–∫–∞—á–∏–≤–∞—Ç—å –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
5. **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - 579 —Å—Ç—Ä–æ–∫ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –∏ –ø—Ä–∏–º–µ—Ä–æ–≤
6. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production** - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ deploy

### üìù –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- `docs/github-actions-guide.md` - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç GHA)
- `docs/REGISTRY.md` - –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (–∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑—ã)
- `.github/REGISTRY.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞
- `README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- `DOCKER.md` - –æ–±–Ω–æ–≤–ª–µ–Ω —Å —Å—Å—ã–ª–∫–∞–º–∏

---

**–°–ø—Ä–∏–Ω—Ç D1 –ª–æ–∫–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å:** ‚úÖ 100% –∑–∞–≤–µ—Ä—à–µ–Ω–∞  
**–û–∂–∏–¥–∞–µ–º—ã–π —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ GitHub Actions:** ‚úÖ –ì–æ—Ç–æ–≤  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ D2:** ‚úÖ –ü–æ–ª–Ω–∞—è
