# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üìä –ü—Ä–æ–≥—Ä–µ—Å—Å

| –ò—Ç–µ—Ä–∞—Ü–∏—è | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ó–∞–º–µ—Ç–∫–∏ |
|----------|-----------|--------|------|---------|
| 1 | –≠—Ö–æ-–±–æ—Ç | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2025-10-10 | –¢–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã |
| 2 | LLMClient | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2025-10-10 | API —Ä–∞–±–æ—Ç–∞–µ—Ç |
| 3 | LLM + –ò—Å—Ç–æ—Ä–∏—è | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2025-10-10 | –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç |
| 4 | –ö–æ–º–∞–Ω–¥–∞ /reset | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2025-10-10 | –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ |
| 5 | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2025-10-10 | –ö–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª |
| 6 | –ö–æ–º–∞–Ω–¥–∞ /role | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2025-10-11 | –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π |

**–õ–µ–≥–µ–Ω–¥–∞:** ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ | üîÑ –í —Ä–∞–±–æ—Ç–µ | ‚úÖ –ì–æ—Ç–æ–≤–æ | ‚ùå –û—à–∏–±–∫–∞

---

## –ò—Ç–µ—Ä–∞—Ü–∏–∏

### –ò—Ç–µ—Ä–∞—Ü–∏—è 1: –≠—Ö–æ-–±–æ—Ç

**–¶–µ–ª—å:** –†–∞–±–æ—Ç–∞—é—â–∏–π Telegram —ç—Ö–æ-–±–æ—Ç.

- [x] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π `src/`, `tests/`, `docs/`
- [x] –°–æ–∑–¥–∞—Ç—å `pyproject.toml` –¥–ª—è uv
- [x] –°–æ–∑–¥–∞—Ç—å `.env.example` —Å —à–∞–±–ª–æ–Ω–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `src/config.py` - –∫–ª–∞—Å—Å Config —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `src/bot.py` - –∫–ª–∞—Å—Å TelegramBot (—ç—Ö–æ-—Ä–µ–∂–∏–º)
- [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã `/start`
- [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π - —ç—Ö–æ (–ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ—Ç –∂–µ —Ç–µ–∫—Å—Ç)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `src/main.py` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- [x] `tests/test_config.py` - —Ç–µ—Å—Ç—ã Config
- [x] `tests/test_bot.py` - —Ç–µ—Å—Ç—ã /start –∏ —ç—Ö–æ (–º–æ–∫–∏ aiogram)

**–¢–µ—Å—Ç:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/start` –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è - –ø–æ–ª—É—á–∏—Ç—å —ç—Ö–æ. –ó–∞–ø—É—Å—Ç–∏—Ç—å `pytest`

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2: LLMClient

**–¶–µ–ª—å:** –†–∞–±–æ—Ç–∞ —Å OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º API.

- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `src/llm_client.py` - –∫–ª–∞—Å—Å LLMClient
- [x] –ú–µ—Ç–æ–¥ `get_response(messages: list[dict]) -> str`
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ system prompt –≤ –∑–∞–ø—Ä–æ—Å
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
- [x] `tests/test_llm_client.py` - —Ç–µ—Å—Ç—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ (–º–æ–∫–∏)

**–¢–µ—Å—Ç:** –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `test_llm.py`, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –≤—ã–≤–µ—Å—Ç–∏ –æ—Ç–≤–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å. –ó–∞–ø—É—Å—Ç–∏—Ç—å `pytest tests/test_llm_client.py`

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Bot + LLM + –ò—Å—Ç–æ—Ä–∏—è

**–¶–µ–ª—å:** –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —á–µ—Ä–µ–∑ LLM —Å –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–∞.

- [x] –î–æ–±–∞–≤–∏—Ç—å `user_sessions: dict[int, list[dict]]` –≤ Bot
- [x] –ò–∑–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π - –≤–º–µ—Å—Ç–æ —ç—Ö–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤ `user_sessions`
- [x] –í—ã–∑–æ–≤ `LLMClient.get_response()` —Å –∏—Å—Ç–æ—Ä–∏–µ–π
- [x] –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- [x] –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ `tests/test_bot.py` (–º–æ–∫–∏ LLMClient)

**–¢–µ—Å—Ç:** –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É, –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç LLM. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç - –∑–∞–¥–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã.

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 4: –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–¶–µ–ª—å:** –ö–æ–º–∞–Ω–¥–∞ /reset –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏.

- [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã `/reset`
- [x] –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑ `user_sessions`
- [x] –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- [x] –¢–µ—Å—Ç—ã –∫–æ–º–∞–Ω–¥—ã /reset –≤ `tests/test_bot.py`

**–¢–µ—Å—Ç:** –ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥, –≤—ã–ø–æ–ª–Ω–∏—Ç—å `/reset`, –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ—Ç–µ—Ä—è–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã.

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 5: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¶–µ–ª—å:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª.

- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `logging` –≤ `src/main.py`
- [x] –õ–æ–≥–∏: —Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø –±–æ—Ç–∞
- [x] –õ–æ–≥–∏: –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (user_id, —Ç–µ–∫—Å—Ç)
- [x] –õ–æ–≥–∏: –≤—ã–∑–æ–≤—ã LLM –∏ –æ—à–∏–±–∫–∏
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `make test` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

**–¢–µ—Å—Ç:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞, –ø—Ä–æ–≤–µ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `bot.log` - –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω—ã. –ó–∞–ø—É—Å—Ç–∏—Ç—å `make test`.

---

### –ò—Ç–µ—Ä–∞—Ü–∏—è 6: –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –∫–æ–º–∞–Ω–¥–∞ /role

**–¶–µ–ª—å:** –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –±–∞–∑–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ò–ò-–ø—Ä–æ–¥—É–∫—Ç —Å —Ä–æ–ª—å—é. –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ, –∫–æ–º–∞–Ω–¥–∞ /role –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–æ–ª—å –±–æ—Ç–∞.

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- Config: `system_prompt: str` ‚Üí `system_prompt_file: str`
- LLMClient: —á–∏—Ç–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- Bot: –∫–æ–º–∞–Ω–¥–∞ /role –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–æ–º–ø—Ç–∞

**TDD-–ø–æ–¥—Ö–æ–¥:**

1. **RED - –ù–∞–ø–∏—Å–∞—Ç—å –ø–∞–¥–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã:**
   - [x] `tests/test_config.py` - —Ç–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `system_prompt_file`
   - [x] `tests/test_llm_client.py` - —Ç–µ—Å—Ç —á—Ç–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞
   - [x] `tests/test_bot.py` - —Ç–µ—Å—Ç –∫–æ–º–∞–Ω–¥—ã `/role`

2. **GREEN - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
   - [x] –°–æ–∑–¥–∞—Ç—å `prompts/system_prompt.txt` - —Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–æ–ª–∏
   - [x] –û–±–Ω–æ–≤–∏—Ç—å `.env.example`: `SYSTEM_PROMPT` ‚Üí `SYSTEM_PROMPT_FILE`
   - [x] –ò–∑–º–µ–Ω–∏—Ç—å `src/config.py`: –ø–æ–ª–µ `system_prompt_file: str = "prompts/system_prompt.txt"`
   - [x] –ò–∑–º–µ–Ω–∏—Ç—å `src/llm_client.py`: 
     - –ü—Ä–∏–Ω–∏–º–∞—Ç—å `system_prompt_file` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
     - –ß–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç –≤ `__init__`
     - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω)
   - [x] –ò–∑–º–µ–Ω–∏—Ç—å `src/main.py`: –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `config.system_prompt_file` –≤ LLMClient
   - [x] –î–æ–±–∞–≤–∏—Ç—å –≤ `src/bot.py`:
     - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ø—Ä–æ–º–ø—Ç–∞
     - –ú–µ—Ç–æ–¥ `_read_system_prompt()` –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞
     - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã `/role`

3. **REFACTOR - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - [x] –ó–∞–ø—É—Å—Ç–∏—Ç—å `make format && make lint && make typecheck`
   - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ edge cases (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª)
   - [x] –£–±–µ–¥–∏—Ç—å—Å—è –≤ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
   - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ LLMClient –∫—ç—à–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç (–Ω–µ —á–∏—Ç–∞–µ—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ)

**–¢–µ—Å—Ç:** 
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/role` –±–æ—Ç—É ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- –ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥ ‚Üí —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–æ–ª—å –∏–∑ —Ñ–∞–π–ª–∞
- –ó–∞–ø—É—Å—Ç–∏—Ç—å `make test && make coverage`

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞:**
- `make test` - –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã TDD
- `make format && make lint && make typecheck` - –≤ —Ñ–∞–∑–µ REFACTOR
- `make coverage` - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è >80%

---

## –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- [x] –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram
- [x] –î–∏–∞–ª–æ–≥–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- [x] –ö–æ–º–∞–Ω–¥—ã /start, /reset –∏ /role
- [x] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è
- [x] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] README.md –æ–±–Ω–æ–≤–ª–µ–Ω
- [x] –ö–æ–º–∞–Ω–¥–∞ /role –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç


